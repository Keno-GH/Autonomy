<Defs>
    <!-- Pawns needing tending for injuries -->
	<!-- <Autonomy.InfoGiverDef>
		<defName>InjuredPawnNeedsTending</defName>
		<label>Injured pawns needing tending</label>
		<description>Counts all pawns (colonists, prisoners, animals, etc.) with untended injuries that require medical attention.</description>
		<sourceType>pawnCount</sourceType>
		<calculation>Count</calculation>
        <isIndividualizable>true</isIndividualizable>
        <isUrgent>true</isUrgent>
		<filters>
			<include>
				<li>player</li>
				<li>prisoner</li>
				<li>animal</li>
				<li>guest</li>
			</include>
			<exclude>
				<li>dead</li>
			</exclude>
			<hediffs>
				<li>
					<hediffClass>Hediff_Injury</hediffClass>
					<tendable>true</tendable>
					<tended>false</tended>
				</li>
			</hediffs>
		</filters>
	</Autonomy.InfoGiverDef> -->

    <!-- Severity infection priority giver -->
    <Autonomy.PriorityGiverDef Name="SeverityInfectionChancePriority">
        <defName>SeverityInfectionChancePriority</defName>
        <label>Severity infection chance priority</label>
        <description>Increases priority for bed resting depending on the severity of infectable untended injuries</description>
        <isUrgent>true</isUrgent>
        
        <conditions>
            <li>
                <type>infoGiver</type>
                <infoDefName>UntendedInfectionRiskSeverity</infoDefName>
                <infoRange>0~999</infoRange>
                <requestLocalizedData>false</requestLocalizedData>
                <requestIndividualData>true</requestIndividualData>
                <requestDistanceFromGlobal>false</requestDistanceFromGlobal>
            </li>
            <!-- We don't add personality offsets to urgent care to ensure decent survival instincts -->
        </conditions>
        
        <priorityRanges>
            <li>
                <validRange>0</validRange>
                <priority>0</priority>
                <description>None</description>
            </li>
            <li>
                <validRange>0.01~1</validRange>
                <priority>5~15</priority>
                <description>I have dirty cuts</description>
            </li>
            <li>
                <validRange>1.01~2</validRange>
                <priority>16~30</priority>
                <description>I have open untreated wounds</description>
            </li>
            <li>
                <validRange>2.01~4</validRange>
                <priority>31~90</priority>
                <description>I have many open untreated wounds</description>
            </li>
            <li>
                <validRange>4.01~999</validRange>
                <priority>90~90</priority>
                <description>I have many open untreated wounds</description>
            </li>
        </priorityRanges>
        
        <targetWorkGivers>
            <li>PatientGoToBedEmergencyTreatment</li>
            <li>PatientGoToBedTreatment</li>
            <!-- <li>DoctorTendToSelf</li>
            <li>DoctorTendToSelfEmergency</li> -->
        </targetWorkGivers>
    </Autonomy.PriorityGiverDef>

    <Autonomy.PriorityGiverDef ParentName="SeverityInfectionChancePriority">
        <defName>SeverityInfectionChancePrioritySelfTend</defName>
        <label>Severity infection chance priority (self-tend)</label>
        <description>Increases priority for self-tending depending on the severity of infectable untended injuries, only for pawns with self-tend enabled</description>

        <conditions>
            <li>
                <type>filter</type>
                <filters>
                    <include>
                        <li>selfTendEnabled</li>
                    </include>
                </filters>
            </li>
        </conditions>

        <targetWorkGivers>
            <li>DoctorTendToSelf</li>
            <li>DoctorTendToSelfEmergency</li>
        </targetWorkGivers>
    </Autonomy.PriorityGiverDef>

	<!-- Count of bleeding injuries -->
	<!-- <Autonomy.InfoGiverDef>
		<defName>BleedingInjuryCount</defName>
		<label>Bleeding injuries</label>
		<description>Counts all bleeding injuries across all pawns. Critical for emergency medical response.</description>
		<sourceType>hediffCount</sourceType>
		<isIndividualizable>true</isIndividualizable>
		<isUrgent>true</isUrgent>

        <calculation>Count</calculation>
		
		<filters>
			<include>
				<li>player</li>
				<li>prisoner</li>
				<li>animal</li>
				<li>guest</li>
			</include>
			<exclude>
				<li>dead</li>
			</exclude>
			<hediffs>
				<li>
					<hediffClass>Hediff_Injury</hediffClass>
					<hasBleedRate>true</hasBleedRate>
				</li>
			</hediffs>
		</filters>
	</Autonomy.InfoGiverDef> -->

    <!-- Bleed rate priority giver -->
    <Autonomy.PriorityGiverDef Name="BleedRatePriorityGiver">
        <defName>BleedRatePriorityGiver</defName>
        <label>Bleed rate priority giver</label>
        <description>Increases priority for bed resting depending on the severity of untreated bleeding injuries</description>
        <isUrgent>true</isUrgent>
        
        <conditions>
            <li>
                <type>infoGiver</type>
                <infoDefName>TotalColonyBleedRate</infoDefName>
                <infoRange>0~999</infoRange>
                <requestLocalizedData>false</requestLocalizedData>
                <requestIndividualData>true</requestIndividualData>
                <requestDistanceFromGlobal>false</requestDistanceFromGlobal>
            </li>
            <!-- We don't add personality offsets to urgent care to ensure decent survival instincts -->
        </conditions>
        
        <priorityRanges>
            <li>
                <validRange>0</validRange>
                <priority>0</priority>
                <description>None</description>
            </li>
            <li>
                <validRange>0.01~1</validRange>
                <priority>5~15</priority>
                <description>I have bleeding wounds</description>
            </li>
            <li>
                <validRange>1.01~2</validRange>
                <priority>16~30</priority>
                <description>I am bleeding a lot</description>
            </li>
            <li>
                <validRange>2.01~4</validRange>
                <priority>31~90</priority>
                <description>I am bleeding out</description>
            </li>
            <li>
                <validRange>4.01~999</validRange>
                <priority>90~90</priority>
                <description>I am bleeding out</description>
            </li>
        </priorityRanges>
        
        <targetWorkGivers>
            <li>PatientGoToBedEmergencyTreatment</li>
            <li>PatientGoToBedTreatment</li>
        </targetWorkGivers>
    </Autonomy.PriorityGiverDef>

    <Autonomy.PriorityGiverDef ParentName="BleedRatePriorityGiver">
        <defName>BleedRatePriorityGiverSelfTend</defName>
        <label>Bleed rate priority giver (self-tend)</label>
        <description>Increases priority for self-tending depending on the severity of untreated bleeding injuries, only for pawns with self-tend enabled</description>

        <conditions>
            <li>
                <type>filter</type>
                <filters>
                    <include>
                        <li>selfTendEnabled</li>
                    </include>
                </filters>
            </li>
        </conditions>

        <targetWorkGivers>
            <li>DoctorTendToSelf</li>
            <li>DoctorTendToSelfEmergency</li>
        </targetWorkGivers>

    </Autonomy.PriorityGiverDef>

	<!-- Count of immunizable diseases -->
	<!-- <Autonomy.InfoGiverDef>
		<defName>ImmunizableDiseaseCount</defName>
		<label>Immunizable diseases</label>
		<description>Counts all immunizable diseases (plague, flu, etc.) affecting the colony.</description>
		<sourceType>hediffCount</sourceType>
		<isIndividualizable>true</isIndividualizable>
		<isUrgent>true</isUrgent>
        
		<calculation>Count</calculation>
		
		<filters>
			<include>
				<li>player</li>
				<li>prisoner</li>
				<li>animal</li>
			</include>
			<exclude>
				<li>dead</li>
			</exclude>
			<hediffs>
				<li>
					<isImmunizable>true</isImmunizable>
					<tendable>true</tendable>
				</li>
			</hediffs>
		</filters>
	</Autonomy.InfoGiverDef> -->

    <Autonomy.PriorityGiverDef Name="NonBleedingInjuryPriorityGiver">
        <defName>NonBleedingInjuryPriorityGiver</defName>
        <label>Non bleeding injury priority giver</label>
        <description>Increases priority for bed resting depending on the severity of untreated non bleeding injuries</description>
        <isUrgent>true</isUrgent>
        
        <conditions>
            <li>
                <type>infoGiver</type>
                <infoDefName>TotalColonyNonBleedingInjuries</infoDefName>
                <infoRange>0~999</infoRange>
                <requestLocalizedData>false</requestLocalizedData>
                <requestIndividualData>true</requestIndividualData>
                <requestDistanceFromGlobal>false</requestDistanceFromGlobal>
            </li>
            <li>
                <type>personalityOffset</type>
                <personalityDefName>Rimpsyche_Expectation</personalityDefName>
				<personalityMultipliers>
					<li>
						<personalityRange>-1.0~-0.5</personalityRange>
						<multiplier>0.75</multiplier>
					</li>
					<li>
						<personalityRange>-0.49~0.0</personalityRange>
						<multiplier>0.9</multiplier>
					</li>
					<li>
						<personalityRange>0.01~0.5</personalityRange>
						<multiplier>1.25</multiplier>
					</li>
					<li>
						<personalityRange>0.51~1.0</personalityRange>
						<multiplier>1.5</multiplier>
					</li>
				</personalityMultipliers>
            </li>
            <li>
                <type>personalityOffset</type>
                <personalityDefName>Rimpsyche_SelfInterest</personalityDefName>
				<personalityMultipliers>
					<li>
						<personalityRange>-1.0~-0.5</personalityRange>
						<multiplier>0.75</multiplier>
					</li>
					<li>
						<personalityRange>-0.49~0.0</personalityRange>
						<multiplier>0.9</multiplier>
					</li>
					<li>
						<personalityRange>0.01~0.5</personalityRange>
						<multiplier>1.25</multiplier>
					</li>
					<li>
						<personalityRange>0.51~1.0</personalityRange>
						<multiplier>1.5</multiplier>
					</li>
				</personalityMultipliers>
            </li>
            <li>
                <type>personalityOffset</type>
                <personalityDefName>Rimpsyche_Tenacity</personalityDefName>
				<personalityMultipliers>
					<li>
						<personalityRange>-1.0~-0.5</personalityRange>
						<multiplier>1.5</multiplier>
					</li>
					<li>
						<personalityRange>-0.49~0.0</personalityRange>
						<multiplier>1.25</multiplier>
					</li>
					<li>
						<personalityRange>0.01~0.5</personalityRange>
						<multiplier>1</multiplier>
					</li>
					<li>
						<personalityRange>0.51~1.0</personalityRange>
						<multiplier>1</multiplier>
					</li>
				</personalityMultipliers>
            </li>
            <li>
                <type>personalityOffset</type>
                <personalityDefName>Rimpsyche_Bravery</personalityDefName>
				<personalityMultipliers>
					<li>
						<personalityRange>-1.0~-0.5</personalityRange>
						<multiplier>1.5</multiplier>
					</li>
					<li>
						<personalityRange>-0.49~0.0</personalityRange>
						<multiplier>1.25</multiplier>
					</li>
					<li>
						<personalityRange>0.01~0.5</personalityRange>
						<multiplier>0.75</multiplier>
					</li>
					<li>
						<personalityRange>0.51~1.0</personalityRange>
						<multiplier>0.5</multiplier>
					</li>
				</personalityMultipliers>
            </li>
        </conditions>
        
        <priorityRanges>
            <li>
                <validRange>0</validRange>
                <priority>0</priority>
                <description>None</description>
            </li>
            <li>
                <validRange>0.01~10</validRange> <!-- Severity of injuries goes by each point of damage -->
                <priority>5~10</priority>
                <description>I am injured</description>
            </li>
            <li>
                <validRange>11~30</validRange>
                <priority>10~20</priority>
                <description>I am really hurt</description>
            </li>
            <li>
                <validRange>31~60</validRange>
                <priority>21~40</priority>
                <description>I am seriously hurt</description>
            </li>
            <li>
                <validRange>61~999</validRange>
                <priority>40</priority>
                <description>I am seriously hurt</description>
            </li>
        </priorityRanges>
        
        <targetWorkGivers>
            <li>PatientGoToBedEmergencyTreatment</li>
            <li>PatientGoToBedTreatment</li>
        </targetWorkGivers>
    </Autonomy.PriorityGiverDef>

    <Autonomy.PriorityGiverDef ParentName="NonBleedingInjuryPriorityGiver">
        <defName>NonBleedingInjuryPriorityGiverSelfTend</defName>
        <label>Non bleeding injury priority giver (self-tend)</label>
        <description>Increases priority for self-tending depending on the severity of untreated non bleeding injuries, only for pawns with self-tend enabled</description>

        <conditions>
            <!-- Filter: only apply to pawns with self-tend enabled -->
            <li>
                <type>filter</type>
                <filters>
                    <include>
                        <li>selfTendEnabled</li>
                    </include>
                </filters>
            </li>
        </conditions>

        <targetWorkGivers>
            <li>DoctorTendToSelf</li>
            <li>DoctorTendToSelfEmergency</li>
        </targetWorkGivers>

    </Autonomy.PriorityGiverDef>

</Defs>