<Defs>

    <!-- Roaming Animals Priority Giver -->
    <Autonomy.PriorityGiverDef Name="RoamingAnimalsPriorityGiver">
        <defName>RoamingAnimalsPriorityGiver</defName>
        <label>Roaming animals priority</label>
        <description>Adjusts animal handling priorities based on the number of roaming unenclosed animals that need to be penned. Higher numbers of roaming animals increase urgency.</description>
        <isUrgent>false</isUrgent>

        <conditions>
            <li>
                <type>infoGiver</type>
                <infoDefName>RoamingUnenclosedAnimals</infoDefName>
                <requestLocalizedData>false</requestLocalizedData>
                <requestIndividualData>false</requestIndividualData>
                <requestNormalizedDistance>false</requestNormalizedDistance>
            </li>
            <!-- Diligent colonists are more proactive about keeping animals penned -->
            <li>
                <type>personalityOffset</type>
                <personalityDefName>Rimpsyche_Diligence</personalityDefName>
                <personalityMultipliers>
                    <li>
                        <personalityRange>-1.0~-0.5</personalityRange>
                        <multiplier>0.75</multiplier>
                        <flat>-2</flat>
                    </li>
                    <li>
                        <personalityRange>-0.49~0.0</personalityRange>
                        <multiplier>0.9</multiplier>
                    </li>
                    <li>
                        <personalityRange>0.01~0.5</personalityRange>
                        <multiplier>1.1</multiplier>
                    </li>
                    <li>
                        <personalityRange>0.51~1.0</personalityRange>
                        <multiplier>1.25</multiplier>
                        <flat>2</flat>
                    </li>
                </personalityMultipliers>
            </li>
            <!-- Organized colonists care more about keeping animals properly contained -->
            <li>
                <type>personalityOffset</type>
                <personalityDefName>Rimpsyche_Organization</personalityDefName>
                <personalityMultipliers>
                    <li>
                        <personalityRange>-1.0~-0.5</personalityRange>
                        <multiplier>0.8</multiplier>
                        <flat>-1</flat>
                    </li>
                    <li>
                        <personalityRange>-0.49~0.0</personalityRange>
                        <multiplier>0.9</multiplier>
                    </li>
                    <li>
                        <personalityRange>0.01~0.5</personalityRange>
                        <multiplier>1.1</multiplier>
                    </li>
                    <li>
                        <personalityRange>0.51~1.0</personalityRange>
                        <multiplier>1.2</multiplier>
                        <flat>1</flat>
                    </li>
                </personalityMultipliers>
            </li>
            <!-- Compassionate colonists worry about animals wandering away -->
            <li>
                <type>personalityOffset</type>
                <personalityDefName>Rimpsyche_Compassion</personalityDefName>
                <personalityMultipliers>
                    <li>
                        <personalityRange>-1.0~-0.5</personalityRange>
                        <multiplier>0.8</multiplier>
                        <flat>-1</flat>
                    </li>
                    <li>
                        <personalityRange>-0.49~0.0</personalityRange>
                        <multiplier>0.9</multiplier>
                    </li>
                    <li>
                        <personalityRange>0.01~0.5</personalityRange>
                        <multiplier>1.1</multiplier>
                    </li>
                    <li>
                        <personalityRange>0.51~1.0</personalityRange>
                        <multiplier>1.2</multiplier>
                        <flat>1</flat>
                    </li>
                </personalityMultipliers>
            </li>
        </conditions>

        <priorityRanges>
            <li>
                <validRange>0~0</validRange>
                <priority>0</priority>
                <description>No roaming animals to pen</description>
            </li>
            <li>
                <validRange>1~2</validRange>
                <priority>1~3</priority>
                <description>A couple animals need penning</description>
            </li>
            <li>
                <validRange>3~5</validRange>
                <priority>3~5</priority>
                <description>Several animals are roaming free</description>
            </li>
            <li> 
                <validRange>6~10</validRange>
                <priority>5~7</priority>
                <description>We have too many animals roaming</description>
            </li>
            <li>
                <validRange>11~20</validRange>
                <priority>7~9</priority>
                <description>Many animals need to be penned urgently!</description>
            </li>
            <li>
                <validRange>21~999</validRange>
                <priority>9~12</priority>
                <description>All these roaming animals must be penned now!</description>
            </li>
        </priorityRanges>

        <targetWorkGivers>
            <li>TakeToPen</li>
            <li>TakeRoamingAnimalsToPen</li>
        </targetWorkGivers>

    </Autonomy.PriorityGiverDef>

    <!-- Animal gather priority for Milk & Shear using AnimalGatherYield infogiver -->
    <Autonomy.PriorityGiverDef Name="AnimalGatherPriorityGiver_MilkShear">
        <defName>AnimalGather_MilkShear_PriorityGiver</defName>
        <label>Milk Shear priority</label>
        <description>Prioritizes milking and shearing based on each animal's gather yield (normalized per-pawn). Pawns will prefer to milk/shear animals with higher relative yields.</description>
        <isUrgent>false</isUrgent>

        <conditions>
            <li>
                <type>infoGiver</type>
                <infoDefName>AnimalGatherYield</infoDefName>
                <requestLocalizedData>false</requestLocalizedData>
                <requestIndividualData>true</requestIndividualData>
                <requestNormalizedDistance>true</requestNormalizedDistance>
            </li>

            <!-- Diligent colonists are more likely to do regular animal-care tasks -->
            <li>
                <type>personalityOffset</type>
                <personalityDefName>Rimpsyche_Diligence</personalityDefName>
                <personalityMultipliers>
                    <li>
                        <personalityRange>-1.0~-0.5</personalityRange>
                        <multiplier>0.75</multiplier>
                        <flat>-2</flat>
                    </li>
                    <li>
                        <personalityRange>-0.49~0.0</personalityRange>
                        <multiplier>0.9</multiplier>
                    </li>
                    <li>
                        <personalityRange>0.01~0.5</personalityRange>
                        <multiplier>1.1</multiplier>
                    </li>
                    <li>
                        <personalityRange>0.51~1.0</personalityRange>
                        <multiplier>1.25</multiplier>
                        <flat>2</flat>
                    </li>
                </personalityMultipliers>
            </li>

            <!-- Organized colonists prefer systematic care (slightly boosts animal maintenance) -->
            <li>
                <type>personalityOffset</type>
                <personalityDefName>Rimpsyche_Organization</personalityDefName>
                <personalityMultipliers>
                    <li>
                        <personalityRange>-1.0~-0.5</personalityRange>
                        <multiplier>0.8</multiplier>
                        <flat>-1</flat>
                    </li>
                    <li>
                        <personalityRange>-0.49~0.0</personalityRange>
                        <multiplier>0.9</multiplier>
                    </li>
                    <li>
                        <personalityRange>0.01~0.5</personalityRange>
                        <multiplier>1.1</multiplier>
                    </li>
                    <li>
                        <personalityRange>0.51~1.0</personalityRange>
                        <multiplier>1.2</multiplier>
                        <flat>1</flat>
                    </li>
                </personalityMultipliers>
            </li>

            <!-- Compassionate colonists are more likely to care for animals (milking/shearing) -->
            <li>
                <type>personalityOffset</type>
                <personalityDefName>Rimpsyche_Compassion</personalityDefName>
                <personalityMultipliers>
                    <li>
                        <personalityRange>-1.0~-0.5</personalityRange>
                        <multiplier>0.8</multiplier>
                        <flat>-1</flat>
                    </li>
                    <li>
                        <personalityRange>-0.49~0.0</personalityRange>
                        <multiplier>0.9</multiplier>
                    </li>
                    <li>
                        <personalityRange>0.01~0.5</personalityRange>
                        <multiplier>1.1</multiplier>
                    </li>
                    <li>
                        <personalityRange>0.51~1.0</personalityRange>
                        <multiplier>1.2</multiplier>
                        <flat>1</flat>
                    </li>
                </personalityMultipliers>
            </li>
        </conditions>

        <!-- Normalized stat-based ranges: -1.0..+1.0 mapped to priority levels -->
        <priorityRanges>
            <li>
                <validRange>-1~-0.6</validRange>
                <priority>-10~-7</priority>
                <description>I am bad at animal work</description>
            </li>
            <li>
                <validRange>-0.6~-0.3</validRange>
                <priority>-7~-3</priority>
                <description>There are better people for this</description>
            </li>
            <li>
                <validRange>-0.3~0.0</validRange>
                <priority>-3~0</priority>
                <description>I am not good at this</description>
            </li>
            <li>
                <validRange>0.0~0.3</validRange>
                <priority>0~3</priority>
                <description>I am good at this</description>
            </li>
            <li>
                <validRange>0.3~0.6</validRange>
                <priority>3~5</priority>
                <description>I am very good at ranching</description>
            </li>
            <li>
                <validRange>0.6~1.0</validRange>
                <priority>5~10</priority>
                <description>I am excellent at ranching</description>
            </li>
        </priorityRanges>

        <targetWorkGivers>
            <li>Milk</li>
            <li>Shear</li>
        </targetWorkGivers>

    </Autonomy.PriorityGiverDef>

</Defs>